# Microsoft Foundry / Azure Language Service Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Microsoft Foundry Endpoint (Optional - for Cloud-based PII Detection)
# =============================================================================
# If AZURE_FOUNDRY_ENDPOINT is set:
#   - PIIShield will use Azure Language Service (cloud-based detection)
#   - Presidio will be used as fallback if Azure fails
#
# If AZURE_FOUNDRY_ENDPOINT is NOT set:
#   - PIIShield will use Presidio only (local detection)
#
# Format: https://<resource-name>.cognitiveservices.azure.com/
# IMPORTANT: Must be a Language Service endpoint, not Foundry Project endpoint
# ✅ Correct: https://<resource-name>.cognitiveservices.azure.com/
# ❌ Wrong:   https://<resource>.services.ai.azure.com/api/projects/<project>/
#
# Leave empty to use Presidio-only mode:
AZURE_FOUNDRY_ENDPOINT=

# Or set your Language Service endpoint:
# AZURE_FOUNDRY_ENDPOINT=https://your-resource-name.cognitiveservices.azure.com/

# =============================================================================
# Authentication: Microsoft Entra ID (Keyless - No API Key Required)
# =============================================================================
# Only required if AZURE_FOUNDRY_ENDPOINT is set.
#
# To use Entra ID authentication:
# 1. Ensure azure-identity package is installed: pip install pii-shield[azure]
# 2. Use one of the following authentication methods:
#    - Azure CLI: Run 'az login' before running your application
#    - Managed Identity: Enable on your Azure resource (VM, App Service, etc.)
#    - VS Code: Sign in to Azure extension
#    - Environment Variables: Set AZURE_CLIENT_ID, AZURE_TENANT_ID, AZURE_CLIENT_SECRET
#
# Grant "Cognitive Services Language Reader" role to your identity:
# az role assignment create --assignee <user-or-app-id> \
#   --role "Cognitive Services Language Reader" \
#   --scope /subscriptions/<subscription-id>/resourceGroups/<rg>/providers/Microsoft.CognitiveServices/accounts/<resource-name>
